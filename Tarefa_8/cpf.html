<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Validar CPF</title>
  </head>
  <body>
    <script>
      function validaCPF(cpf) {
        cpf = cpf.replace(/[^\d]+/g,''); 
        if(cpf.length != 11 || /^(.)\1{10}$/.test(cpf)){ 
          return false;
        } 
        var soma = 0;
        for(var i = 0; i < 9; i++){ 
          soma += parseInt(cpf.charAt(i)) * (10 - i);
        }
        
        var resto = 11 - (soma % 11);
        if(resto == 10 || resto == 11){ 
          resto = 0;
        }
        if(resto != parseInt(cpf.charAt(9))){
          return false;
        } 
        
        
        soma = 0;
        for(var i = 0; i < 10; i++){
           soma += parseInt(cpf.charAt(i)) * (11 - i);
        }
        
        resto = 11 - (soma % 11);
        if(resto == 10 || resto == 11){ 
            resto = 0;
        }
        if(resto != parseInt(cpf.charAt(10))){
          return false;
        }
        
        return true;
      }

      var cpf = prompt("Digite o CPF a ser validado:");

      if(validaCPF(cpf)) {
        alert("CPF válido");
      } else {
        alert("CPF inválido");
      }
    </script>
  </body>
</html>
